!function(t){function e(e){for(var r,u,a=e[0],s=e[1],c=e[2],p=0,l=[];p<a.length;p++)u=a[p],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&l.push(o[u][0]),o[u]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);for(f&&f(e);l.length;)l.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(i.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},o={4:0},i=[];function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/bitcoin-forge/";var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var f=s;i.push([29,0]),n()}({13:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a}));var r=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name="",this.code=0,Object.assign(this,e)};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.index=0,this.prevTxHash="",this.prevTxIndex=0,this.privateKey="",this.amount=0,this.type="P2PKH",this.redeemScript="",Object.assign(this,e)}var e,n,r;return e=t,(n=[{key:"isSegWit",value:function(){return"P2WPKH"===this.type||"P2WSH"===this.type||"P2SH-P2WPKH"===this.type||"P2SH-P2WSH"===this.type}}])&&o(e.prototype,n),r&&o(e,r),t}();function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"STANDARD",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;u(this,t),this.type=e,this.index=n,this.address=r,this.amount=o,this.data=i}},29:function(t,e,n){"use strict";n.r(e),function(t){var r=n(4),o=(n(13),n(31)),i=o.networks.bitcoin,u={setTestnet:function(t){i=t?o.networks.testnet:o.networks.bitcoin},decodeTx:function(t){return o.Transaction.fromHex(t)},createTx:function(e,n){console.log("Start forging TX.");var u=new o.TransactionBuilder(i);u.setVersion(1),console.log("Add the inputs."),e.forEach((function(t){if(!Object.prototype.hasOwnProperty.call(t,"prevTxHash"))throw new Error("The Tx hash for the input was not found.");if(!Object.prototype.hasOwnProperty.call(t,"prevTxIndex"))throw new Error("The previous Tx output index for the input was not found.");if(!Object.prototype.hasOwnProperty.call(t,"privateKey"))throw new Error("The previous Tx output privateKey for the input was not found.");u.addInput(t.prevTxHash,t.prevTxIndex)})),console.log("Add the outputs."),n.forEach((function(e){if(e.type===r.g){var n=t.from(e.data,"hex"),i=o.payments.embed({data:[n]});u.addOutput(i.output,0)}else{if(!Object.prototype.hasOwnProperty.call(e,"address"))throw new Error("The address for the output was not found.");if(!Object.prototype.hasOwnProperty.call(e,"amount"))throw new Error("The amount for the output was not found.");u.addOutput(e.address,e.amount)}})),console.log("Sign the inputs."),e.forEach((function(t,e){if([r.a,r.d,r.c].includes(t.type)){var n,a,s=o.ECPair.fromWIF(t.privateKey,i);switch(t.type){case r.c:n=o.payments.p2wpkh({pubkey:s.publicKey,network:i}),a=o.payments.p2sh({redeem:n,network:i}),u.sign(e,s,a.redeem.output,null,t.amount);break;case r.d:n=o.payments.p2wpkh({pubkey:s.publicKey,network:i}),u.sign(e,s,n.redeem.output,null,t.amount);break;case r.a:u.sign(e,s)}}}));var a=u.buildIncomplete();return console.log("Set redeem scripts for inputs."),e.forEach((function(e,n){var o;if([r.b,r.e].includes(e.type))switch(e.type){case r.b:o=e.redeemScript,a.setInputScript(n,t.from(o,"hex"))}})),a}};e.default=u}.call(this,n(3).Buffer)},4:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return s})),n.d(e,"h",(function(){return c})),n.d(e,"g",(function(){return f}));var r="P2PKH",o="P2SH",i="P2SH-P2WPKH",u="P2WPKH",a="P2WSH",s=[r,o,i,"P2SH-P2WSH",u,a],c="STANDARD",f="OPRETURN"},46:function(t,e){},47:function(t,e){},48:function(t,e){},49:function(t,e){}});